<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script src="https://unpkg.com/mqtt/dist/mqtt.min.js"></script>
    <script>
        // const mqtt = require('mqtt')
            // import mqtt from 'mqtt'
            console.log(mqtt);
            // connection option
            const options = {
                clean: true, // retain session
                connectTimeout: 4000, // Timeout period
                // Authentication information
                clientId: '123',
                username: '',
                password: '',
            }

            // Connect string, and specify the connection method by the protocol
            // ws Unencrypted WebSocket connection
            // wss Encrypted WebSocket connection
            // mqtt Unencrypted TCP connection
            // mqtts Encrypted TCP connection
            // wxs WeChat applet connection
            // alis Alipay applet connection
            const connectUrl = 'ws://192.168.1.9:8080'
            const client = mqtt.connect(connectUrl, options)

            client.on('reconnect', (error) => {
                console.log('reconnecting:', error)
            })

            client.on('error', (error) => {
                console.log('Connection failed:', error)
            })

            client.on('message', (topic, message) => {
            console.log('receive messageï¼š', topic, message.toString())
            })

    </script>
</body>
</html>